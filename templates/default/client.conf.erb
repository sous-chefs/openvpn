# OpenVPN client configuration file
# Generated by Chef - local changes will be overwritten!

# Please refer to the OpenVPN documentation for details on
# configuration settings.

client
proto <%= node['openvpn']['config']['proto'] %>
remote <%= node['openvpn']['gateway'] %> <%= node['openvpn']['config']['port'] %>
ca ca.crt
cert <%= @client_cn %>.crt
key <%= @client_cn %>.key
<%- @flags.sort.each do |flag| -%>
<%= flag %>
<%- end -%>
<%- @config.sort.each do |key, values| -%>
  <%- [*values].each do |value| -%>
<%= key %> <%=
    case value
    when String
      value
    when TrueClass
      1
    when FalseClass
      0
    when nil
      ''
    else
      value
    end
%>
  <%- end -%>
<%- end -%>
