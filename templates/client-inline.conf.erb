# OpenVPN client configuration file
# Generated by Chef - local changes will be overwritten!

# Please refer to the OpenVPN documentation for details on
# configuration settings.

client
dev tun
proto <%= node['openvpn']['config']['proto'] %>
remote <%= node['openvpn']['gateway'] %> <%= node['openvpn']['config']['port'] %>
resolv-retry infinite
nobind
persist-key
persist-tun
<% if @compression -%>
compress <%= @compression %>
<% end %>
<% 
%w(cipher tls-cipher auth keysize link-mtu).each do |conf| 
  if node['openvpn']['config'][conf]
%><%= "#{conf} #{node['openvpn']['config'][conf]}" %>
<%
  end
end 
-%>
verb 3
<ca>
<%= @ca -%>
</ca>
<cert>
<%= @cert -%>
</cert>
<key>
<%= @key -%>
</key>
